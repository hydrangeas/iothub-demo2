# タスクの進め方

タスクはCline/Roo Codeなどを利用して生成されることを前提としています。
各エージェントはセッションが大きくなると新しくなります。
そこで、タスクの実行結果、途中経過を記録してください。

記録はGitHub Issueに登録されているか否かでファイル名を変更します。
GitHub Issueに記録されている場合は、ディレクトリ（リポジトリ）ルートから `.tasks/issue-XX` に追記します。
`XX` はGitHub Issueに登録されている番号です。
GitHub Issueに記録されていない場合は `.tasks/unknown-YY` に追記します。
`YY` は自動インクリメントされた番号です。最新の番号を作成してください。
「task unknown YYからコンテキストを復元してください」などに対応できるようにしてください。

作業を開始するときは `.tasks/issue-XX` か `.tasks/unknown-YY` が存在しないか確認してください。
また、プルリクエストを依頼する前に `.tasks/issue-XX` か `.tasks/unknown-YY` ファイルについてもコミットを完了させてください。

## 作業例1

例えば「pr29のコメントを確認してください」という指示に対しては以下の作業を実施してください。

1. PR29の内容を確認する
2. PR29に紐づいているIssue番号（Issue番号を`XX`とする）を確認する
3. `.tasks/issue-XX` が存在するか確認する
4. `.tasks/issue-XX` が存在する場合は、その作業内容をコンテキストとする
   以後は作業完了後に、作業内容の概要を追記する
5. `.tasks/issue-XX` が存在しない場合は、新規に作成する
   以後は作業完了後に、作業内容の概要を追記する
6. PRにIssueが紐づいていない場合は、`.tasks/unknown-YY` を新規に作成する
   `YY` はディレクトリ内の最大の値
   以後は作業完了後に、作業内容の概要を追記する

## 作業例2

例えば「issue29を実装してください」という指示に対しては以下の作業を実施してください。

1. Issue29の内容を確認する
2. `.tasks/issue-29` が存在するか確認する
3. `.tasks/issue-29` が存在する場合は、その作業内容をコンテキストとする
   以後は作業完了後に、作業内容の概要を追記する
4. `.tasks/issue-29` が存在しない場合は、新規に作成する
   以後は作業完了後に、作業内容の概要を追記する

## 記録の粒度

タスクの作業の記録は、Cline/Roo Codeがコンテキストを再現できる最小単位で記載してください。
そのため、作業は可能な限り要約してください。
ただし、同じ作業が繰り返されないよう十分に注意してください。
